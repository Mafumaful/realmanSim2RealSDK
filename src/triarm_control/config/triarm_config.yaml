# 三臂机器人控制配置

triarm_controller:
  ros__parameters:
    namespace: "robot"
    mode: "sim"             # 运行模式: sim (Isaac Sim) / real (真实机械臂)
    joint_velocity: 30.0    # 关节运动速度 (度/秒)
    publish_rate: 50.0      # 指令发布频率 (Hz)
    enable_smooth: true     # 是否启用平滑处理
    acceleration: 100.0     # 加速度限制 (度/秒²)
    velocity_mode: "normal" # 速度模式: slow, normal, fast
    # 夹爪参数 (sim/real 分开配置, 单位: 度)
    left_gripper:
      sim_open_angle: 0.0       # sim 打开角度
      sim_close_angle: -30.0    # sim 闭合角度
      real_open_angle: 0.0      # real 打开角度
      real_close_angle: -30.0   # real 闭合角度
    right_gripper:
      sim_open_angle: 0.0       # sim 打开角度
      sim_close_angle: -30.0    # sim 闭合角度
      real_open_angle: 0.0      # real 打开角度
      real_close_angle: -30.0   # real 闭合角度

# 统一机械臂节点配置
unified_arm_node:
  ros__parameters:
    namespace: "robot"
    mode: "sim"             # sim / real
    publish_rate: 20.0      # 状态发布频率 (Hz)
    sim_joint_tolerance: 0.02   # sim运动完成检测阈值 (弧度)
    sim_motion_timeout: 10.0    # sim运动完成超时 (秒)
    # 坐标变换参数 (m + rad), 来自URDF joint_platform_X1 origin
    pose_W_P0: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]  # 平台零位姿
    pose_P_arm_a: [0.156, 0.142, 0.227, 1.5708, 0.827, 0.0]   # A臂相对平台
    pose_P_arm_b: [-0.142, 0.156, -0.227, -1.5708, 0.0, 0.744]   # B臂相对平台
    pose_P_arm_s: [0.0004, 0.0004, -0.400, 0.0, 0.0, 0.0]        # S臂相对平台
    # A臂 (left)
    arm_a:
      ip: "192.168.1.18"
      port: 8080
    # B臂 (right)
    arm_b:
      ip: "192.168.1.19"
      port: 8080
    # S臂 (预留)
    arm_s:
      ip: "192.168.1.20"
      port: 8080

# 夹爪桥接节点配置
gripper_bridge_node:
  ros__parameters:
    mode: "sim"             # sim / real
    namespace: "robot"
    # real 模式: Modbus RTU 串口配置 (crt_ctag2f90c)
    gripper_a:
      serial_port: "/dev/ttyUSB0"
      baud_rate: 115200
      slave_addr: 1
    gripper_b:
      serial_port: "/dev/ttyUSB1"
      baud_rate: 115200
      slave_addr: 1
    # real 模式: Modbus 运动完成等待超时 (秒)
    motion_timeout: 5.0

triarm_gui:
  ros__parameters:
    namespace: "robot"
    gui_width: 700
    gui_height: 600
